import{$a as T,$b as k,Db as b,Eb as S,Hb as A,Na as P,Pa as w,Qa as a,S as _,ac as M,ba as z,bc as O,ca as u,cc as F,da as p,db as h,ea as y,fa as C,jb as m,kb as c,l as I,lb as g,pb as r,qb as s,rb as f,ub as v,vb as d,wb as l}from"./chunk-TIX424GP.js";var D=(o,e)=>({"bg-primary-500":o,"bg-secondary-300":e});function j(o,e){if(o&1){let t=v();r(0,"div",16)(1,"div",17)(2,"img",18),d("error",function(n){let x=u(t).$implicit,W=l(2);return p(W.onImageError(n,x))}),s()()()}if(o&2){let t=e.$implicit,i=l(2);g("width",i.cardWidth,"px")("min-width",i.cardWidth,"px")("max-width",i.cardWidth,"px"),a(),g("height",i.cardHeight,"px"),a(),c("src",t.source,P)("alt",t.name||"Foto Tecnogenco")}}function H(o,e){if(o&1){let t=v();r(0,"button",19),d("click",function(){let n=u(t).index,x=l(2);return p(x.goToIndicator(n))}),s()}if(o&2){let t=e.index,i=l(2);c("ngClass",A(2,D,t===i.currentIndicator,t!==i.currentIndicator)),m("aria-label","Vai alla slide "+(t+1))}}function B(o,e){if(o&1){let t=v();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),h(5,j,3,10,"div",8),s()()(),r(6,"button",9),d("click",function(){u(t);let n=l();return p(n.previousSlide())}),y(),r(7,"svg",10),f(8,"path",11),s()(),C(),r(9,"button",12),d("click",function(){u(t);let n=l();return p(n.nextSlide())}),y(),r(10,"svg",10),f(11,"path",13),s()(),C(),r(12,"div",14),h(13,H,1,5,"button",15),s()()()}if(o&2){let t=l();a(4),g("transform","translateX(-"+t.currentIndex*(t.cardWidth+t.gap)+"px)")("gap",t.gap,"px"),a(),c("ngForOf",t.duplicatedPhotos)("ngForTrackBy",t.trackByPhotoId),a(),m("aria-label","Previous"),a(3),m("aria-label","Next"),a(4),c("ngForOf",t.indicatorArray)}}function N(o,e){o&1&&(r(0,"div",20),f(1,"div",21),r(2,"p"),b(3,"Caricamento foto..."),s()())}function $(o,e){if(o&1&&(r(0,"div",22)(1,"p"),b(2),s()()),o&2){let t=l();a(2),S(t.errorMessage)}}var E=class o{photos=[];visibleCount=3;autoPlay=!0;autoPlayInterval=7e3;error=!1;errorMessage="Impossibile caricare le foto. Riprova pi\xF9 tardi.";gap=16;autoPlayTimer;currentIndex=0;cardWidth=0;cardHeight=0;padCount=0;duplicatedPhotos=[];isTransitioning=!1;indicatorArray=[];currentIndicator=0;ngOnInit(){this.photos&&this.photos.length&&(this.createDuplicatedPhotos(),this.updateIndicators()),this.autoPlay&&this.photos.length>3&&this.startAutoPlay()}ngAfterViewInit(){requestAnimationFrame(()=>this.updateCardWidth())}ngOnChanges(e){e.photos&&!e.photos.firstChange&&(this.createDuplicatedPhotos(),requestAnimationFrame(()=>{this.updateCardWidth(),this.updateIndicators()}))}ngOnDestroy(){this.stopAutoPlay()}onImageError(e,t){let i=e.target;console.error("Errore caricamento immagine:",t.source),t.source.startsWith("/")?(i.style.display="none",this.error=!0,this.errorMessage=`Impossibile caricare l'immagine: ${t.name||t.id}`):i.src="/"+t.source}onResize(){this.updateCardWidth()}trackByPhotoId(e,t){return t.id}nextSlide(){this.isTransitioning||(this.isTransitioning=!0,this.currentIndex++,this.updateIndicators(),this.resetAutoPlay(),setTimeout(()=>{this.currentIndex>=this.photos.length+this.padCount&&(this.currentIndex=this.padCount,this.updateIndicators()),this.isTransitioning=!1},500))}previousSlide(){this.isTransitioning||(this.isTransitioning=!0,this.currentIndex--,this.updateIndicators(),this.resetAutoPlay(),setTimeout(()=>{this.currentIndex<0&&(this.currentIndex=this.photos.length+this.padCount-1,this.updateIndicators()),this.isTransitioning=!1},500))}goToIndicator(e){this.isTransitioning||(this.isTransitioning=!0,this.currentIndex=this.padCount+e,this.updateIndicators(),this.resetAutoPlay(),setTimeout(()=>{this.isTransitioning=!1},500))}createDuplicatedPhotos(){if(this.photos.length===0){this.duplicatedPhotos=[];return}let e=Math.min(this.visibleCount,3);this.duplicatedPhotos=[...this.photos.slice(-e),...this.photos,...this.photos.slice(0,e)],this.padCount=e,this.currentIndex=this.padCount}updateCardWidth(){if(this.photos.length===0)return;let e=document.querySelector(".carousel-track-container");if(!e)return;let i=e.offsetWidth,n=this.gap*(this.visibleCount-1);this.cardWidth=Math.floor((i-n)/this.visibleCount),this.cardHeight=Math.floor(this.cardWidth*.66)}updateIndicators(){this.indicatorArray=Array.from({length:this.photos.length},(e,t)=>t),this.currentIndicator=(this.currentIndex-this.padCount+this.photos.length)%this.photos.length}startAutoPlay(){this.stopAutoPlay(),this.autoPlayTimer=window.setInterval(()=>{this.nextSlide()},this.autoPlayInterval)}stopAutoPlay(){this.autoPlayTimer&&(clearInterval(this.autoPlayTimer),this.autoPlayTimer=void 0)}resetAutoPlay(){this.autoPlay&&this.photos.length>3&&this.startAutoPlay()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=T({type:o,selectors:[["app-carousel"]],hostBindings:function(t,i){t&1&&d("resize",function(){return i.onResize()},!1,w)},inputs:{photos:"photos",visibleCount:"visibleCount",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval"},features:[z],decls:3,vars:3,consts:[["class","relative w-full py-4",4,"ngIf"],["class","flex flex-col items-center justify-center py-16 px-8 text-secondary-600",4,"ngIf"],["class","text-center py-8 px-4 text-red-600 bg-red-50 rounded-lg border border-red-200",4,"ngIf"],[1,"relative","w-full","py-4"],[1,"relative"],[1,"w-full","overflow-hidden","bg-white","rounded-lg","min-w-0","carousel-track-container"],[1,"relative","min-h-72","-mx-1"],[1,"absolute","top-0","bottom-0","left-0","flex","flex-nowrap","cursor-grab","transition-transform","duration-500"],["class","flex-none px-1 min-w-0",3,"width","min-width","max-width",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"absolute","inset-y-0","left-0","inline-flex","justify-center","items-center","w-12","h-full","text-gray-800","hover:bg-gray-800/10","rounded-l-lg","z-10",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","m15 18-6-6 6-6"],["type","button",1,"absolute","inset-y-0","right-0","inline-flex","justify-center","items-center","w-12","h-full","text-gray-800","hover:bg-gray-800/10","rounded-r-lg","z-10",3,"click"],["d","m9 18 6-6-6-6"],[1,"flex","justify-center","absolute","bottom-0","left-0","right-0","gap-x-2","mt-2"],["class","w-3 h-3 rounded-full border border-gray-300 disabled:opacity-50",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex-none","px-1","min-w-0"],[1,"flex","justify-center","h-full","bg-gray-100","p-6","w-full","min-w-0","overflow-hidden"],["loading","lazy",1,"object-cover","w-full","h-full","rounded-lg","min-w-0","md:shadow-lg",3,"error","src","alt"],[1,"w-3","h-3","rounded-full","border","border-gray-300","disabled:opacity-50",3,"click","ngClass"],[1,"flex","flex-col","items-center","justify-center","py-16","px-8","text-secondary-600"],[1,"w-12","h-12","border-4","border-secondary-200","border-t-primary-500","rounded-full","animate-spin","mb-4"],[1,"text-center","py-8","px-4","text-red-600","bg-red-50","rounded-lg","border","border-red-200"]],template:function(t,i){t&1&&h(0,B,14,9,"div",0)(1,N,4,0,"div",1)(2,$,3,1,"div",2),t&2&&(c("ngIf",i.photos.length>0),a(),c("ngIf",i.photos.length===0&&!i.error),a(),c("ngIf",i.error))},dependencies:[F,k,M,O],encapsulation:2})};var V=class o{constructor(){}getLocalPhotos(){let e=[],t=1,i=5;for(;t<=i;){let n={id:`foto_${t}`,source:`assets/foto_${t}.jpg`,name:this.getPhotoTitle(t),description:this.getPhotoDescription(t)};e.push(n),t++}return I(this.shuffleArray(e))}getPhotoTitle(e){let t=["Sistema di Controllo Industriale","Automazione di Processo","Programmazione PLC Avanzata","Installazione SCADA","Centro di Comando Produzione","Sensori Industriali","Pannello di Controllo HMI","Robotica Industriale","Sistema di Monitoraggio","Manutenzione Preventiva","Ottimizzazione Processi","Integrazione Sistemi","Sicurezza Industriale","Formazione Tecnica","Innovazione Tecnologica","Qualit\xE0 e Precisione","Efficienza Operativa","Supporto Continuativo","Soluzioni Personalizzate","Eccellenza nel Servizio"];return t[(e-1)%t.length]||`Foto ${e}`}getPhotoDescription(e){let t=["Implementazione di sistemi di controllo avanzati per l'industria 4.0","Automazione completa dei processi produttivi con tecnologia all'avanguardia","Programmazione specializzata di controllori logici programmabili","Installazione e configurazione di sistemi SCADA per monitoraggio in tempo reale","Centro nevralgico per il controllo e la supervisione della produzione","Sensori di ultima generazione per misurazioni precise e affidabili","Interfacce uomo-macchina intuitive e user-friendly","Integrazione di robotica per processi automatizzati","Monitoraggio continuo delle performance e dei parametri critici","Manutenzione preventiva per garantire continuit\xE0 operativa","Ottimizzazione dei processi per massimizzare l'efficienza","Integrazione seamless tra diversi sistemi industriali","Sistemi di sicurezza avanzati per la protezione degli operatori","Formazione specialistica per tecnici e operatori","Innovazione tecnologica al servizio dell'industria","Precisione e qualit\xE0 nei risultati ottenuti","Efficienza operativa massima attraverso l'automazione","Supporto tecnico continuativo e assistenza dedicata","Soluzioni su misura per esigenze specifiche del cliente","Eccellenza nel servizio e soddisfazione del cliente"];return t[(e-1)%t.length]||""}shuffleArray(e){let t=[...e];for(let i=t.length-1;i>0;i--){let n=Math.floor(Math.random()*(i+1));[t[i],t[n]]=[t[n],t[i]]}return t}static \u0275fac=function(t){return new(t||o)};static \u0275prov=_({token:o,factory:o.\u0275fac,providedIn:"root"})};export{E as a,V as b};
