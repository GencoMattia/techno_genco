@use './variables' as *;
@use '@angular/material' as mat;

// Build Material palette maps from our custom shade variables
$techno-primary-palette: (
  50: $primary-50,
  100: $primary-100,
  200: $primary-200,
  300: $primary-300,
  400: $primary-400,
  500: $primary-500,
  600: $primary-600,
  700: $primary-700,
  800: $primary-800,
  900: $primary-900,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

$techno-accent-palette: (
  50: $tertiary-50,
  100: $tertiary-100,
  200: $tertiary-200,
  300: $tertiary-300,
  400: $tertiary-400,
  500: $tertiary-500,
  600: $tertiary-600,
  700: $tertiary-700,
  800: $tertiary-800,
  900: $tertiary-900,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

$techno-warn-palette: (
  50: #fff3e0,
  100: #ffe0b2,
  200: #ffcc80,
  300: #ffb74d,
  400: #ffa726,
  500: $color-accent-light,
  600: #fb8c00,
  700: #f57c00,
  800: #ef6c00,
  900: #e65100,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: rgba(black, 0.87),
    600: rgba(black, 0.87),
    700: white,
    800: white,
    900: white,
  )
);

// Define Material palettes using M2 API
$mat-primary: mat.m2-define-palette($techno-primary-palette, 500);
$mat-accent: mat.m2-define-palette($techno-accent-palette, 500);
$mat-warn: mat.m2-define-palette($techno-warn-palette, 500);

// Create a light theme
$techno-theme: mat.m2-define-light-theme((
  color: (
    primary: $mat-primary,
    accent: $mat-accent,
    warn: $mat-warn,
  )
));

// Include Material core styles (only once in your app)
@include mat.core();

// Apply the theme to all Material components
@include mat.all-component-themes($techno-theme);

// Export CSS variables for runtime use (using our custom colors)
:root {
  --color-primary-50: #{$primary-50};
  --color-primary-100: #{$primary-100};
  --color-primary-200: #{$primary-200};
  --color-primary-300: #{$primary-300};
  --color-primary-400: #{$primary-400};
  --color-primary-500: #{$primary-500};
  --color-primary-600: #{$primary-600};
  --color-primary-700: #{$primary-700};
  --color-primary-800: #{$primary-800};
  --color-primary-900: #{$primary-900};

  --color-secondary-50: #{$secondary-50};
  --color-secondary-100: #{$secondary-100};
  --color-secondary-200: #{$secondary-200};
  --color-secondary-300: #{$secondary-300};
  --color-secondary-400: #{$secondary-400};
  --color-secondary-500: #{$secondary-500};
  --color-secondary-600: #{$secondary-600};
  --color-secondary-700: #{$secondary-700};
  --color-secondary-800: #{$secondary-800};
  --color-secondary-900: #{$secondary-900};

  --color-tertiary-50: #{$tertiary-50};
  --color-tertiary-100: #{$tertiary-100};
  --color-tertiary-200: #{$tertiary-200};
  --color-tertiary-300: #{$tertiary-300};
  --color-tertiary-400: #{$tertiary-400};
  --color-tertiary-500: #{$tertiary-500};
  --color-tertiary-600: #{$tertiary-600};
  --color-tertiary-700: #{$tertiary-700};
  --color-tertiary-800: #{$tertiary-800};
  --color-tertiary-900: #{$tertiary-900};

  --color-accent-500: #{$color-accent-light};
  --color-warn-500: #{$color-accent-light};

  --color-primary: var(--color-primary-500);
  --color-secondary: var(--color-secondary-500);
  --color-tertiary: var(--color-tertiary-500);
  --color-accent: var(--color-accent-500);
  --color-warn: var(--color-warn-500);

  --color-bg: #f4f6f8;
  --color-surface: #ffffff;
  --color-on-primary: #ffffff;
  --color-on-surface: #0f1724;
}
